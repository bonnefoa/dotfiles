source ~/.zinit/bin/zinit.zsh

if [[ -r "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh" ]]; then
  source "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh"
fi

# Completions
autoload -Uz _zinit
(( ${+_comps} )) && _comps[zinit]=_zinit

zinit ice blockf atpull'zinit creinstall -q .'; zinit light zsh-users/zsh-completions
zinit ice wait lucid as"completion" for \
    snippet OMZ::plugins/docker/_docker \
    snippet OMZ::plugins/kubectl/kubectl.plugin.zsh \
    snippet "$HOME/git-repos/kubectl-fzf/kubectl_fzf.plugin.zsh" \
    pick"completions/chezmoi.zsh" zinit load twpayne/chezmoi

autoload compinit
compinit

zinit light zdharma/fast-syntax-highlighting
zinit ice pick"z.sh"; zinit light "rupa/z"

zinit ice atclone"dircolors -b LS_COLORS > clrs.zsh" \
    atpull'%atclone' pick"clrs.zsh" nocompile'!' \
    atload'zstyle ":completion:*" list-colors “${(s.:.)LS_COLORS}”'
zinit light trapd00r/LS_COLORS

zinit snippet OMZ::plugins/fzf/fzf.plugin.zsh
zinit snippet OMZ::plugins/git/git.plugin.zsh

zinit snippet "$HOME/.config/zsh/conf.zsh"
zinit snippet "$HOME/.config/zsh/completion.zsh"

zinit ice depth=1; zinit light romkatv/powerlevel10k
zinit load "trystan2k/zsh-tab-title"
zinit load "changyuheng/fz"

ulimit -n 4096

# To customize prompt, run `p10k configure` or edit ~/.p10k.zsh.
[[ ! -f ~/.p10k.zsh ]] || source ~/.p10k.zsh
